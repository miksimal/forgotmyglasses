(this.webpackJsonpforgotmyglasses=this.webpackJsonpforgotmyglasses||[]).push([[0],{20:function(e,t){},45:function(e,t,a){e.exports=a(453)},453:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),o=a(44),i=a.n(o),l=(a(50),a(4)),c=a.n(l),s=a(10),u=a(6),p=(a(52),a(455)),f=a(53);f.config.region="eu-west-1",f.config.credentials=new f.CognitoIdentityCredentials({IdentityPoolId:"eu-west-1:4a8f8cca-1fe0-4ce5-843c-3118a21061f6"});var h=new f.Rekognition;var d=function(){var e=Object(n.useState)(!1),t=Object(u.a)(e,2),a=(t[0],t[1]),o=Object(n.useState)(Object(p.a)()),i=Object(u.a)(o,2),l=i[0],f=i[1],d=Object(n.useState)(!0),m=Object(u.a)(d,2),b=m[0],y=m[1],g=Object(n.useState)(!1),w=Object(u.a)(g,2),E=w[0],v=w[1],k=Object(n.useState)(!1),x=Object(u.a)(k,2),O=x[0],j=x[1];function C(){return(C=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.prev=1,t={CollectionId:l},e.next=5,h.createCollection(t).promise();case 5:f(l),y(!1),v(!0),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[1,10]])})))).apply(this,arguments)}function I(){return(I=Object(s.a)(c.a.mark((function e(){var t;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h.listCollections({}).promise();case 2:t=e.sent,console.log(JSON.stringify(t,null,2));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function S(e){return new Promise((function(t,a){var n=new FileReader;n.onload=function(){t(n.result)},n.onerror=a,n.readAsArrayBuffer(e)}))}function F(e){return B.apply(this,arguments)}function B(){return(B=Object(s.a)(c.a.mark((function e(t){var n,r,o,i,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files?t.target.files:[new Blob],a(!0),e.prev=2,e.next=5,S(n[0]);case 5:if(null!=(i=e.sent)){e.next=8;break}throw new Error("Error reading file");case 8:return s={CollectionId:l,Image:{Bytes:i},MaxFaces:1},e.next=11,h.indexFaces(s).promise();case 11:u=e.sent,null!=(null===(r=u.UnindexedFaces)||void 0===r?void 0:r.length)&&(null===(o=u.UnindexedFaces)||void 0===o||o.length),j(!0),a(!1),e.next=21;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0.message),a(!1);case 21:case"end":return e.stop()}}),e,null,[[2,17]])})))).apply(this,arguments)}function T(){return(T=Object(s.a)(c.a.mark((function e(t){var n,r,o,i,s,u,p;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.target.files?t.target.files:[new Blob],a(!0),e.prev=2,e.next=5,S(n[0]);case 5:if(null!=(o=e.sent)){e.next=8;break}throw new Error("Error reading file");case 8:return i={CollectionId:l,Image:{Bytes:o},MaxFaces:1},e.next=11,h.searchFacesByImage(i).promise();case 11:if((s=e.sent).FaceMatches){e.next=14;break}return e.abrupt("return");case 14:if(0!=(null===(r=s.FaceMatches)||void 0===r?void 0:r.length)){e.next=18;break}return window.alert("This is definitely not your friend. Abort!"),a(!1),e.abrupt("return");case 18:if(!s.FaceMatches[0]){e.next=37;break}if(u=s.FaceMatches[0].Similarity){e.next=22;break}return e.abrupt("return");case 22:e.t0=!0,e.next=e.t0===u<50?25:e.t0===u<75?27:e.t0===u<90?29:e.t0===u<99.5?31:e.t0===u<=100?33:35;break;case 25:return p="This is probably not your friend (less than 50% similarity)",e.abrupt("break",36);case 27:return p="This could be, but probability is not, your friend (less than 75% similarity) - worth a go?",e.abrupt("break",36);case 29:return p="This is probably your friend (greater than 75% similarity)! Say hello!",e.abrupt("break",36);case 31:return p="This is almost certainly your friend (greater than 90% similarity)! Say hello!",e.abrupt("break",36);case 33:return p="This is DEFINITELY your friend (100% similarity score)!",e.abrupt("break",36);case 35:p="Something went wrong, sorry!";case 36:window.alert(p);case 37:e.next=43;break;case 39:e.prev=39,e.t1=e.catch(2),console.log(e.t1.message),a(!1);case 43:case"end":return e.stop()}}),e,null,[[2,39]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"App"},r.a.createElement("header",{className:"App-header"},r.a.createElement("h2",null,"Ever forget your glasses and fail to recognise your friend? \ud83e\udd26\u200d\u2640\ufe0f"),r.a.createElement("h3",null,"No? But ",r.a.createElement("i",null,"what if!?")," Keep calm and use this robot to help you recognise them \ud83d\udc40"),r.a.createElement("p",null,"Simply:",r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement("b",null,"Teach the robot")," by uploading a few photos of your friend's face \ud83d\udcf8"),r.a.createElement("li",null,r.a.createElement("b",null,"Use your new cyborg skill")," by subtly snapping a photo of their face and we'll tell you if it's your friend! \ud83d\udc4b")))),r.a.createElement("body",null,b&&r.a.createElement("div",null,r.a.createElement("h2",null,"Ready to get started?!"),r.a.createElement("button",{onClick:function(){return C.apply(this,arguments)}},"Yes!"),r.a.createElement("button",{onClick:function(){return I.apply(this,arguments)}},"list!")),E&&r.a.createElement("div",null,r.a.createElement("h2",null,"Provide at least one photo of your friend (the more the better)"),r.a.createElement("p",null,"Note: we do not store your photos. Instead, facial features are analysed and those are what is used to recognise similarities. Your collection of data will be deleted automatically within 24 hours."),r.a.createElement("input",{onChange:F,type:"file",accept:"image/*",capture:"camera"}),r.a.createElement("input",{onChange:F,type:"file",accept:"image/*",capture:"camera"}),r.a.createElement("input",{onChange:F,type:"file",accept:"image/*",capture:"camera"})),O&&r.a.createElement("div",null,r.a.createElement("h2",null,"The robot has been trained! Snap a photo of your 'friend' and we'll tell you if it's your friend"),r.a.createElement("input",{onChange:function(e){return T.apply(this,arguments)},type:"file",accept:"image/*",capture:"camera"}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(d,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},50:function(e,t,a){},52:function(e,t,a){}},[[45,1,2]]]);
//# sourceMappingURL=main.21eed841.chunk.js.map